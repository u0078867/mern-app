exports.ids=[3],exports.modules={102:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return(0,i["default"])(l+"/"+e+"?q="+t,{headers:{"content-type":"application/json"},method:"get"}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json,n=e.response;return n.ok?t:Promise.reject(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.API_URL=void 0,t["default"]=r;var a=n(45),i=o(a),u=n(3),s=o(u),l=t.API_URL="undefined"==typeof window?process.env.BASE_URL||"http://localhost:"+(process.env.PORT||s["default"].port)+"/search-api":"/search-api"},103:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return a("div",{},void 0,a("div",{},void 0,u," ",e.item.cuid),a("div",{},void 0,a("pre",{},void 0,JSON.stringify(e.item,null,2))))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}();t.AttributesViewer=r;var i=n(1),u=(o(i),a("b",{},void 0,"CUID:"));t["default"]=r},105:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(122),p=o(f),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h.call(n),n.state={imageSrc:null,live:!1},n}return i(t,e),s(t,[{key:"render",value:function(){var e=this.state,t=e.live,n=e.imageSrc;if(t)var o=c["default"].createElement(p["default"],{audio:!1,height:"100%",ref:this.setRef,screenshotFormat:"image/jpeg",width:"100%"}),r="Save screenshot";else var o=n?u("img",{src:n}):null,r="Go live";return u("div",{},void 0,u("button",{onClick:this.changeState},void 0,r),o)}}]),t}(l.Component),h=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;null!=n?e.setState({live:!1,imageSrc:n}):e.setState({live:!0,imageSrc:n})},this.setRef=function(t){e.webcam=t},this.changeState=function(){if(e.state.live){var t=e.webcam.getScreenshot();console.log("Image string length (base64-encoded): "+t.length),e.props.onChange(t)}else e.props.onChange(null)}};t["default"]=d},106:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=(o(l),n(2)),f=o(c),p=n(101),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){var e=(0,f["default"])();setImmediate(function(){return n.props.onChange(e)})},n.onChange=function(e){var t=e.target.value;n.props.onChange(t)},n.generate=function(e){var t=(0,f["default"])();n.props.onChange(t)},n}return i(t,e),s(t,[{key:"render",value:function(){return u("div",{},void 0,u(p.FormControl,{type:"text",value:this.props.value,required:this.props.required,onChange:this.onChange}),u(p.Button,{onClick:this.generate},void 0,"Re-generate ID"))}}]),t}(l.Component);t["default"]=d},107:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=(o(l),n(102)),f=o(c),p=n(6),d=(o(p),n(118)),h=o(d),m=n(101),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.target.value;n.props.onChange(t);var o=n.props.options.field||n.props.id.split("_").slice(1);(0,f["default"])(n.props.options.collection,t).then(function(e){var r=[],a=!0,i=!1,u=void 0;try{for(var s,l=e.items[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,f=h["default"].get(c,o);t==f&&r.push(c)}}catch(p){i=!0,u=p}finally{try{!a&&l["return"]&&l["return"]()}finally{if(i)throw u}}1==r.length?n.props.formContext.updateFormData(r[0]):n.props.formContext.updateFormData({cuid:void 0})})},n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){return u(m.FormControl,{type:"text",value:this.props.value,required:this.props.required,onChange:this.onChange})}}]),t}(l.Component);t["default"]=v},108:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=(o(l),n(101)),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){return u(c.FormControl,{type:"text",value:this.props.value,required:this.props.required,readOnly:this.props.readonly,onChange:this.onChange})}}]),t}(l.Component),p=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){if(void 0==t.value&&t.formContext.cache&&t.formContext.cache.researcher){var n=t.formContext.cache.researcher[t.options.field];e.props.onChange(n)}},this.onChange=function(t){var n=t.target.value;e.props.onChange(n)}};t["default"]=f},109:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(104),p=o(f),d=n(103),h=o(d),m=n(102),v=o(m),y=n(6),b=o(y),_=n(42),g=o(_),O={"Select-value-fit":"l6ewz9TsaQmdtRz_hxJfr"},w=o(O),S=function(e){function t(){var e,n,o,i;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},i=n,a(o,i)}return i(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(h["default"],{item:this.props.option}))}}]),t}(l.Component),P=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u("div",{className:w["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(h["default"],{item:this.props.value})))}}]),t}(l.Component),j=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.call(n),n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getResearchers,optionComponent:S,valueComponent:P,filterOption:function(e,t){return!0},disabled:this.props.readonly}))}}]),t}(l.Component),C=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;t.formContext.cache.researcher&&(n=t.formContext.cache.researcher.cuid),(0,b["default"])("researchers/"+n).then(function(t){var o=t.item;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getResearchers=function(e){return e?(0,v["default"])("researchers",e).then(function(e){return{options:e.items}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid),g["default"].publishSync("int-cache-researcher",t)}};t["default"]=j},110:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(104),p=o(f),d=n(103),h=o(d),m=n(102),v=o(m),y=n(6),b=o(y),_=n(42),g=(o(_),{"Select-value-fit":"l6ewz9TsaQmdtRz_hxJfr"}),O=o(g),w=function(e){function t(){var e,n,o,i;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},i=n,a(o,i)}return i(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(h["default"],{item:this.props.option}))}}]),t}(l.Component),S=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u("div",{className:O["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(h["default"],{item:this.props.value})))}}]),t}(l.Component),P=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(n),n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getSamples,optionComponent:w,valueComponent:S,filterOption:function(e,t){return!0}}))}}]),t}(l.Component),j=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;(0,b["default"])("samples/"+n).then(function(t){var o=t.item;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getSamples=function(e){return e?(0,v["default"])("samples",e).then(function(e){return{options:e.items}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=P},111:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=(o(l),n(104)),f=o(c),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.call(n),n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.options.suggestions.map(function(e){return{value:e,label:e}});return u(f["default"].Creatable,{value:this.state.value,required:this.props.required,disabled:this.props.readonly,onChange:this.onChange,options:e})}}]),t}(l.Component),d=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){e.setState({value:{value:t.value,label:t.value}})},this.onChange=function(t){e.props.onChange(t.value),e.setState({value:t})}};t["default"]=p},112:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(108),a=o(r),i=n(109),u=o(i),s=n(110),l=o(s),c=n(105),f=o(c),p=n(107),d=o(p),h=n(111),m=o(h),v=n(106),y=o(v);e.exports=function(){return{researcher:a["default"],"researcher-search":u["default"],"sample-search":l["default"],"cam-capture":f["default"],"form-filler":d["default"],"select-creatable":m["default"],cuid:y["default"]}}},113:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(112),a=o(r);e.exports={getWidgetsMap:a["default"]}},114:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(1),p=o(f),d=n(119),h=o(d),m=n(17),v=n(113),y=n(115),b=o(y),_=n(42),g=o(_),O=n(6),w=o(O),S=(0,v.getWidgetsMap)(),P={layout:b["default"]},j=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){if(void 0!=n.props.schema)(0,w["default"])("utils/staticize-json-schema","post",{schema:n.props.schema}).then(function(e){console.log(e.schema);var t={schema:e.schema,uiSchema:n.props.uiSchema,formData:n.props.formData};n._update(t)});else{var e={schema:void 0,uiSchema:n.props.uiSchema,formData:n.props.formData};n._update(e)}n._listenToInternalEvents(n.props.listenToInternalEvents)},n._listenToInternalEvents=function(e){e&&g["default"].subscribe("jss-internals",function(e,t){if("formData"in t.targets){var o=Object.assign({},n.state.formData),r=t.targets.formData.path;o[r]=t.targets.formData.payload,n.setState({formData:o})}})},n._update=function(e){var t=e.schema,o=e.uiSchema,r=e.formData,a=t,i=o,u=r;void 0!=t&&void 0!=o&&void 0!=r||(a=void 0,i=void 0);var s=!0;try{var c=(0,m.renderToString)(l(h["default"],{fields:P,widgets:S,schema:a,uiSchema:i,formData:u}));if(/unsupported/i.test(c))throw new Error(c)}catch(f){console.log(f),s=!1}n.props.onFormPropsChange({valid:s}),s?n.setState({valid:!0,schema:a,uiSchema:i,formData:u}):n.setState({valid:!1,formData:u})},n.state={valid:!1,schema:void 0,uiSchema:void 0,formData:void 0},n}return u(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.schema!=this.props.schema||e.uiSchema!=this.props.uiSchema||e.formData!=this.props.formData)if(e.schema!=this.props.schema)if(void 0!=e.schema)(0,w["default"])("utils/staticize-json-schema","post",{schema:e.schema}).then(function(e){console.log("converted"),console.log(e.schema);var n={schema:e.schema,uiSchema:t.props.uiSchema,formData:t.props.formData};t._update(n)});else{var n={schema:void 0,uiSchema:e.uiSchema,formData:e.formData};this._update(n)}else{var o={schema:this.state.schema,uiSchema:e.uiSchema,formData:e.formData};this._update(o)}this._listenToInternalEvents(e.listenToInternalEvents)}},{key:"render",value:function(){var e=null,t=this.props,n=(t.schema,t.uiSchema,t.formData,r(t,["schema","uiSchema","formData"])),e=l("pre",{},void 0,JSON.stringify(this.state.formData,null,2));if(this.state.valid)var e=p["default"].createElement(h["default"],s({fields:P,widgets:S,schema:this.state.schema,uiSchema:this.state.uiSchema,formData:this.state.formData,ref:"form"},n));return l("div",{},void 0,l("p",{},void 0,"Form definition: ",this.state.valid?"valid":"invalid"),e)}}]),t}(f.Component);j.defaultProps={schema:void 0,uiSchema:void 0,formData:void 0,listenToInternalEvents:!1,onFormPropsChange:function(){}},t["default"]=j},115:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(1),p=o(f),d=n(120),h=o(d),m=n(121),v=n(101),y=function(e){function t(){var e,n,o,r;a(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={firstName:"hasldf"},r=n,i(o,r)}return u(t,e),c(t,[{key:"render",value:function(){var e=this,n=this.props,o=n.uiSchema,a=n.errorSchema,i=n.idSchema,u=n.required,c=n.disabled,f=n.readonly,d=n.onBlur,h=n.formData,y=this.props.registry,b=y.definitions,_=y.fields,g=y.formContext,O=_.SchemaField,w=_.TitleField,S=_.DescriptionField,P=(0,m.retrieveSchema)(this.props.schema,b),j=void 0===P.title?"":P.title,C=o["ui:layout"];return l("fieldset",{},void 0,j?l(w,{id:i.$id+"__title",title:j,required:u,formContext:g}):null,P.description?l(S,{id:i.$id+"__description",description:P.description,formContext:g}):null,C.map(function(n,u){return l("div",{className:"row"},u,Object.keys(n).map(function(u,m){var y=n[u],b=y.doShow,_=r(y,["doShow"]),g={};if(b&&!b({formData:h})&&(g={display:"none"}),P.properties[u])return p["default"].createElement(v.Col,s({},_,{key:m,style:g}),l(O,{name:u,required:e.isRequired(u),schema:P.properties[u],uiSchema:o[u],errorSchema:a[u],idSchema:i[u],formData:h[u],onChange:e.onPropertyChange(u),onBlur:d,registry:e.props.registry,disabled:c,readonly:f}));if(n[u].layout){var w=n[u],S=w.layout,j=r(w,["layout"]),C=Object.assign({},P,{title:void 0}),k=Object.assign({},o,{"ui:layout":S});return p["default"].createElement(v.Col,s({},j,{key:m,style:g}),p["default"].createElement(t,s({},e.props,{schema:C,uiSchema:k})))}var D=n[u],M=D.render,E=r(D,["render"]),F=function(){return null};return M&&(F=M),p["default"].createElement(v.Col,s({},E,{key:m,style:g}),l(F,{name:u,formData:h,errorSchema:a,uiSchema:o,schema:P,registry:e.props.registry}))}))}))}}]),t}(h["default"]);t["default"]=y},130:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(42),p=o(f),d={},h="command",m=u("div",{}),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNewPackageOut=function(e,t){""!=e?(p["default"].publishSync(e,t),console.log("Out-package published")):console.log("Output port name is empty")},n}return i(t,e),s(t,[{key:"render",value:function(){return m}},{key:"componentDidMount",value:function(){this.props.data||this.handleNewPackageOut(this.props.dataOutPort,this.props.data)}},{key:"componentWillUpdate",value:function(e){e.dataOutPort==this.props.dataOutPort&&this.handleNewPackageOut(e.dataOutPort,e.data)}},{key:"send",value:function(e){this.handleNewPackageOut(this.props.dataOutPort,e)}}]),t}(c["default"].Component);v.defaultProps={data:d,dataOutPort:h},t["default"]=v},97:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return{form:(0,P.getForm)(e,t.params.cuid),cache:(0,P.getCache)(e),redirectUrl:t.location.query.red}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];
n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),f=o(c),p=(n(9),n(7)),d=n(11),h=o(d),m=(n(8),n(114)),v=o(m),y=n(130),b=o(y),_=(n(101),n(6)),g=(o(_),{"single-form":"_4IVkjbuHRDz7oZrva7hLo","form-title":"_3VnmjLrSTAgu0tbdMZoacN","author-name":"_1cNPfGQNRCha6l5dInqnVS","form-desc":"_aUxib4kQGpIdxhqFQZaU","form-action":"_1hJnnZBUAO8LftNEbzN2wZ",divider:"_2eStSMGYswW2w7EmRibls0","form-detail":"_1flNws2Fw_nAFFJfQxE8zX"}),O=o(g),w=n(43),S=n(44),P=n(46),j=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmit=function(e){var t=e.formData;console.log("submitting..."),console.log(n.state.submitType);var o={form:n.props.form._id,data:t,validate_before_insert:n.state.validateSubm},r=function(e){var t=e.data,o=JSON.stringify(t,null,2),r=new Blob([o],{type:"application/json"}),a=URL.createObjectURL(r);n.setState({fileLink:a,showFileLink:!0})},a=function(){n.context.router.push(n.props.redirectUrl),n.sender.send("exited")};switch(n.state.submitType){case"submit_later":n.props.dispatch((0,S.addSubmRequest)(o)).then(function(){return a()})["catch"](function(e){return console.log(e)});break;case"submit_now":case"submit_now_no_validate":n.props.dispatch((0,S.addSubmRequest)(o)).then(function(e){return n.props.dispatch((0,S.updateSubmRequest)(e.subm))}).then(function(e){return n.props.dispatch((0,S.acceptSubmRequest)(e.subm))}).then(function(e){return r(e)})["catch"](function(e){return console.log(e)})}},n.onChange=function(e){var t=e.formData;n.setState({formData:t})},n.onClick=function(e){n.setState({submitType:e.target.id,validateForm:"submit_now"==e.target.id,validateSubm:"submit_now_no_validate"!=e.target.id})},n.onUpdateFormData=function(e){var t=Object.assign({},n.state.formData,e);n.onChange({formData:t})},n.onRedirectDashboard=function(){n.context.router.push("/dashboard")},n.state={formData:n.props.form.init_data,validateForm:!0,validateSubm:!0,fileLink:null,showFileLink:!1},n.sender=new b["default"]({dataOutPort:"wf-task-exit"}),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){console.log(this.props.params.cuid),this.props.dispatch((0,w.fetchForm)(this.props.params.cuid))}},{key:"render",value:function(){var e={cache:this.props.cache,updateFormData:this.onUpdateFormData};return s("div",{},void 0,s(h["default"],{title:this.props.form.title}),s("div",{className:O["default"]["single-form"]+" "+O["default"]["form-detail"]},void 0,s("h3",{className:O["default"]["form-title"]},void 0,this.props.form.title)),s(v["default"],{schema:this.props.form.json_schema,uiSchema:this.props.form.ui_schema,formData:this.state.formData,onSubmit:this.onSubmit,onChange:this.onChange,listenToInternalEvents:!0,formContext:e,noHtml5Validate:!this.state.validateForm,noValidate:!this.state.validateForm},void 0,s("button",{type:"submit",className:"btn btn-info",id:"submit_now",onClick:this.onClick},void 0,"Validate and submit"),s("button",{type:"button",className:"btn btn-info",id:"redirect_dashboard",onClick:this.onRedirectDashboard},void 0,"Back to dashboard"),this.state.showFileLink?s("a",{href:this.state.fileLink,className:"btn btn-link",download:"submission.json"},void 0,"Download submitted data"):null))}}]),t}(c.Component);j.need=[function(e){return(0,w.fetchForm)(e.cuid)}],j.contextTypes={router:f["default"].PropTypes.object.isRequired},t["default"]=(0,p.connect)(u)(j)}};