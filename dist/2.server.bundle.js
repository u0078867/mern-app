exports.ids=[2],exports.modules={100:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return(0,a["default"])(u+"/"+e+"?q="+t,{headers:{"content-type":"application/json"},method:"get"}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json,o=e.response;return o.ok?t:Promise.reject(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.API_URL=void 0,t["default"]=r;var i=o(45),a=n(i),s=o(2),l=n(s),u=t.API_URL="undefined"==typeof window?process.env.BASE_URL||"http://localhost:"+(process.env.PORT||l["default"].port)+"/search-api":"/search-api"},102:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return i("div",{},void 0,i("div",{},void 0,s," ",e.item.cuid),i("div",{},void 0,i("pre",{},void 0,JSON.stringify(e.item,null,2))))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}();t.AttributesViewer=r;var a=o(1),s=(n(a),i("b",{},void 0,"CUID:"));t["default"]=r},103:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=n(u),f=o(119),p=n(f),d=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h.call(o),o.state={imageSrc:null,live:!1},o}return a(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.live,o=e.imageSrc;if(t)var n=c["default"].createElement(p["default"],{audio:!1,height:"100%",ref:this.setRef,screenshotFormat:"image/jpeg",width:"100%"}),r="Save screenshot";else var n=o?s("img",{src:o}):null,r="Go live";return s("div",{},void 0,s("button",{onClick:this.changeState},void 0,r),n)}}]),t}(u.Component),h=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var o=t.value;null!=o?e.setState({live:!1,imageSrc:o}):e.setState({live:!0,imageSrc:o})},this.setRef=function(t){e.webcam=t},this.changeState=function(){if(e.state.live){var t=e.webcam.getScreenshot();console.log("Image string length (base64-encoded): "+t.length),e.props.onChange(t)}else e.props.onChange(null)}};t["default"]=d},104:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=(n(u),o(100)),f=n(c),p=o(6),d=(n(p),o(115)),h=n(d),m=o(101),v=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChange=function(e){var t=e.target.value;o.props.onChange(t);var n=o.props.id.split("_").slice(1);(0,f["default"])(o.props.options.collection,t).then(function(e){if(1==e.items.length){var r=e.items[0],i=h["default"].get(r,n);t==i?o.props.formContext.updateFormData(r):console.log("the found item is wrong")}else console.log("0 or more than 1 item found"),o.props.formContext.updateFormData({cuid:void 0})})},o.state={},o}return a(t,e),l(t,[{key:"render",value:function(){return s(m.FormControl,{type:"text",value:this.props.value,required:this.props.required,onChange:this.onChange})}}]),t}(u.Component);t["default"]=v},105:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=(n(u),o(101)),f=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(o),o.state={},o}return a(t,e),l(t,[{key:"render",value:function(){return s(c.FormControl,{type:"text",value:this.props.value,required:this.props.required,readOnly:this.props.readonly,onChange:this.onChange})}}]),t}(u.Component),p=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){if(void 0==t.value&&t.formContext.cache.researcher){var o=t.formContext.cache.researcher[t.options.field];e.props.onChange(o)}},this.onChange=function(t){var o=t.target.value;e.props.onChange(o)}};t["default"]=f},106:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=n(u),f=o(112),p=n(f),d=o(102),h=n(d),m=o(100),v=n(m),y=o(6),b=n(y),_=o(42),g=n(_),S={"Select-value-fit":"l6ewz9TsaQmdtRz_hxJfr"},O=n(S),w=function(e){function t(){var e,o,n,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),n.props.onSelect(n.props.option,e)},n.handleMouseEnter=function(e){n.props.onFocus(n.props.option,e)},n.handleMouseMove=function(e){n.props.isFocused||n.props.onFocus(n.props.option,e)},a=o,i(n,a)}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,s(h["default"],{item:this.props.option}))}}]),t}(u.Component),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:O["default"]["Select-value-fit"]},void 0,s("span",{className:"Select-value-label"},void 0,s(h["default"],{item:this.props.value})))}}]),t}(u.Component),j=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.call(o),o.state={},o}return a(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},s(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getResearchers,optionComponent:w,valueComponent:P,filterOption:function(e,t){return!0},disabled:this.props.readonly}))}}]),t}(u.Component),C=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var o=t.value;t.formContext.cache.researcher&&(o=t.formContext.cache.researcher.cuid),(0,b["default"])("researchers/"+o).then(function(t){var n=t.item;n||(n={cuid:o}),e.refs.container&&e.setState({value:n})})},this.getResearchers=function(e){return e?(0,v["default"])("researchers",e).then(function(e){return{options:e.items}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid),g["default"].publishSync("int-cache-researcher",t)}};t["default"]=j},107:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=n(u),f=o(112),p=n(f),d=o(102),h=n(d),m=o(100),v=n(m),y=o(6),b=n(y),_=o(42),g=(n(_),{"Select-value-fit":"l6ewz9TsaQmdtRz_hxJfr"}),S=n(g),O=function(e){function t(){var e,o,n,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),n.props.onSelect(n.props.option,e)},n.handleMouseEnter=function(e){n.props.onFocus(n.props.option,e)},n.handleMouseMove=function(e){n.props.isFocused||n.props.onFocus(n.props.option,e)},a=o,i(n,a)}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,s(h["default"],{item:this.props.option}))}}]),t}(u.Component),w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:S["default"]["Select-value-fit"]},void 0,s("span",{className:"Select-value-label"},void 0,s(h["default"],{item:this.props.value})))}}]),t}(u.Component),P=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(o),o.state={},o}return a(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},s(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getSamples,optionComponent:O,valueComponent:w,filterOption:function(e,t){return!0}}))}}]),t}(u.Component),j=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var o=t.value;(0,b["default"])("samples/"+o).then(function(t){var n=t.item;n||(n={cuid:o}),e.refs.container&&e.setState({value:n})})},this.getSamples=function(e){return e?(0,v["default"])("samples",e).then(function(e){return{options:e.items}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=P},108:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=o(105),i=n(r),a=o(106),s=n(a),l=o(107),u=n(l),c=o(103),f=n(c),p=o(104),d=n(p);e.exports=function(){return{researcher:i["default"],"researcher-search":s["default"],"sample-search":u["default"],"cam-capture":f["default"],"form-filler":d["default"]}}},109:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=o(108),i=n(r);e.exports={getWidgetsMap:i["default"]}},110:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(1),p=n(f),d=o(116),h=n(d),m=o(17),v=o(109),y=o(111),b=n(y),_=o(42),g=n(_),S=o(6),O=n(S),w=(0,v.getWidgetsMap)(),P={layout:b["default"]},j=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.componentDidMount=function(){if(void 0!=o.props.schema)(0,O["default"])("utils/staticize-json-schema","post",{schema:o.props.schema}).then(function(e){console.log(e.schema);var t={schema:e.schema,uiSchema:o.props.uiSchema,formData:o.props.formData};o._update(t)});else{var e={schema:void 0,uiSchema:o.props.uiSchema,formData:o.props.formData};o._update(e)}o._listenToInternalEvents(o.props.listenToInternalEvents)},o._listenToInternalEvents=function(e){e&&g["default"].subscribe("jss-internals",function(e,t){if("formData"in t.targets){var n=Object.assign({},o.state.formData),r=t.targets.formData.path;n[r]=t.targets.formData.payload,o.setState({formData:n})}})},o._update=function(e){var t=e.schema,n=e.uiSchema,r=e.formData,i=t,a=n,s=r;void 0!=t&&void 0!=n&&void 0!=r||(i=void 0,a=void 0);var l=!0;try{var c=(0,m.renderToString)(u(h["default"],{fields:P,widgets:w,schema:i,uiSchema:a,formData:s}));if(/unsupported/i.test(c))throw new Error(c)}catch(f){console.log(f),l=!1}o.props.onFormPropsChange({valid:l}),l?o.setState({valid:!0,schema:i,uiSchema:a,formData:s}):o.setState({valid:!1,formData:s})},o.state={valid:!1,schema:void 0,uiSchema:void 0,formData:void 0},o}return s(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.schema!=this.props.schema||e.uiSchema!=this.props.uiSchema||e.formData!=this.props.formData)if(e.schema!=this.props.schema)if(void 0!=e.schema)(0,O["default"])("utils/staticize-json-schema","post",{schema:e.schema}).then(function(e){console.log("converted"),console.log(e.schema);var o={schema:e.schema,uiSchema:t.props.uiSchema,formData:t.props.formData};t._update(o)});else{var o={schema:void 0,uiSchema:e.uiSchema,formData:e.formData};this._update(o)}else{var n={schema:this.state.schema,uiSchema:e.uiSchema,formData:e.formData};this._update(n)}this._listenToInternalEvents(e.listenToInternalEvents)}},{key:"render",value:function(){var e=null,t=this.props,o=(t.schema,t.uiSchema,t.formData,r(t,["schema","uiSchema","formData"])),e=u("pre",{},void 0,JSON.stringify(this.state.formData,null,2));if(this.state.valid)var e=p["default"].createElement(h["default"],l({fields:P,widgets:w,schema:this.state.schema,uiSchema:this.state.uiSchema,formData:this.state.formData,ref:"form"},o));return u("div",{},void 0,u("p",{},void 0,"Form definition: ",this.state.valid?"valid":"invalid"),e)}}]),t}(f.Component);j.defaultProps={schema:void 0,uiSchema:void 0,formData:void 0,listenToInternalEvents:!1,onFormPropsChange:function(){}},t["default"]=j},111:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(1),p=n(f),d=o(117),h=n(d),m=o(118),v=o(101),y=function(e){function t(){var e,o,n,r;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={firstName:"hasldf"},r=o,a(n,r)}return s(t,e),c(t,[{key:"render",value:function(){var e=this,o=this.props,n=o.uiSchema,i=o.errorSchema,a=o.idSchema,s=o.required,c=o.disabled,f=o.readonly,d=o.onBlur,h=o.formData,y=this.props.registry,b=y.definitions,_=y.fields,g=y.formContext,S=_.SchemaField,O=_.TitleField,w=_.DescriptionField,P=(0,m.retrieveSchema)(this.props.schema,b),j=void 0===P.title?"":P.title,C=n["ui:layout"];return u("fieldset",{},void 0,j?u(O,{id:a.$id+"__title",title:j,required:s,formContext:g}):null,P.description?u(w,{id:a.$id+"__description",description:P.description,formContext:g}):null,C.map(function(o,s){return u("div",{className:"row"},s,Object.keys(o).map(function(s,m){var y=o[s],b=y.doShow,_=r(y,["doShow"]),g={};if(b&&!b({formData:h})&&(g={display:"none"}),P.properties[s])return p["default"].createElement(v.Col,l({},_,{key:m,style:g}),u(S,{name:s,required:e.isRequired(s),schema:P.properties[s],uiSchema:n[s],errorSchema:i[s],idSchema:a[s],formData:h[s],onChange:e.onPropertyChange(s),onBlur:d,registry:e.props.registry,disabled:c,readonly:f}));if(o[s].layout){var O=o[s],w=O.layout,j=r(O,["layout"]),C=Object.assign({},P,{title:void 0}),F=Object.assign({},n,{"ui:layout":w});return p["default"].createElement(v.Col,l({},j,{key:m,style:g}),p["default"].createElement(t,l({},e.props,{schema:C,uiSchema:F})))}var D=o[s],E=D.render,M=r(D,["render"]),N=function(){return null};return E&&(N=E),p["default"].createElement(v.Col,l({},M,{key:m,style:g}),u(N,{name:s,formData:h,errorSchema:i,uiSchema:n,schema:P,registry:e.props.registry}))}))}))}}]),t}(h["default"]);t["default"]=y},114:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FormEditWidget=void 0;var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=n(u),f=o(8),p=o(110),d=n(p),h=o(6),m=n(h),v={"input-form":"_1hQBT9QdJlqQkPUz55fNJ0","input-form-content":"_3ZIbKsbrPGzmo6w9urTDC_","input-form-title":"_2FZExmfhMecg0D6EW1_U-B","input-form-table":"_2-f3s9jDnw0k2L4i9r4uGH","input-form-field-label":"_2r-n-n0UkrMq_CnOX__Ntl","input-form-field":"UH7-nOFc8ZWMenw5lRyJH","form-submit-button":"_12TOKHEQtbFm61Ys52v-qV","form-submit-button-disabled":"_2vn8scRXB7uca5cjbvbRo4",appear:"bTKCaoR9QrRy6nJk-knEs"},y=n(v),b=s(f.FormattedMessage,{id:"editForm"}),_=s(f.FormattedMessage,{id:"save"}),g=s(f.FormattedMessage,{id:"formPreview"}),S=t.FormEditWidget=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.componentWillMount=function(){o.setJSONSchema({target:{value:o.state.JSONSchema}}),o.setUISchema({target:{value:o.state.UISchema}}),o.setInitData({target:{value:o.state.initData}}),o.checkTitle(o.state.title),o.checkKey(o.state.key)},o.componentDidMount=function(){(0,m["default"])("database/collections").then(function(e){o.setState({collections:e.collections},function(){o.setJSONSchemaMaster(o.state.destCollection)})})},o.saveForm=function(){if(o.state.isFormValid&&o.state.isTitleValid){var e=Object.assign({},o.props.initialForm,{title:o.state.title,json_schema:o.state._JSONSchema,ui_schema:o.state._UISchema,init_data:o.state._initData,dest_collection:o.state.destCollection,insert_on_submit:o.state.insertOnSubmit});o.props.saveForm(e)}},o.setTitle=function(e){var t=e.target.value;o.setState({title:t}),o.checkTitle(t)},o.checkTitle=function(e){var t=e.trim().length>0;o.setState({isTitleValid:t})},o.setKey=function(e){var t=e.target.value;o.setState({key:t}),o.checkKey(t)},o.checkKey=function(e){var t=e.trim().length>0;o.setState({isKeyValid:t})},o.setJSONSchema=function(e){var t=e.target.value,n=void 0;try{n=JSON.parse(t)}catch(r){}o.setState({JSONSchema:t,_JSONSchema:n})},o.setJSONSchemaMaster=function(e){var t=o.state.collections.filter(function(t){return t.name===e})[0];t&&o.setState({JSONSchemaMaster:JSON.stringify(t.JSONSchema,null,2)})},o.setUISchema=function(e){var t=e.target.value,n=void 0;try{n=JSON.parse(t)}catch(r){}o.setState({UISchema:t,_UISchema:n})},o.setInitData=function(e){var t=e.target.value,n=void 0;try{n=JSON.parse(t)}catch(r){}o.setState({initData:t,_initData:n})},o.setDestCollection=function(e){o.setState({destCollection:e.target.value}),o.setJSONSchemaMaster(e.target.value)},o.setInsertOnSubmit=function(e){o.setState({insertOnSubmit:e.target.checked})},o.onChange=function(e){var t=e.formData,n=JSON.stringify(t,null,2);o.setState({initData:n,_initData:t})},o.onSubmit=function(e){var t=e.formData;console.log(t)},o.onFormPropsChange=function(e){var t=e.valid;o.setState({isFormValid:t})},o.onUpdateFormData=function(e){var t=Object.assign({},o.state._initData,e);o.onChange({formData:t})},o.state={title:e.initialForm.title,key:e.initialForm.key,JSONSchema:JSON.stringify(e.initialForm.json_schema,null,2),JSONSchemaMaster:"",UISchema:JSON.stringify(e.initialForm.ui_schema,null,2),initData:JSON.stringify(e.initialForm.init_data,null,2),destCollection:e.initialForm.dest_collection,collections:[],insertOnSubmit:e.initialForm.insert_on_submit,isFormValid:!1,isTitleValid:!1,isKeyValid:!1},o}return a(t,e),l(t,[{key:"render",value:function(){var e=y["default"]["input-form"]+" "+(this.props.showEditForm?y["default"].appear:""),t=this.state.isFormValid&&this.state.isTitleValid&&this.state.isKeyValid;if(!this.props.showEditForm)return null;var o={formDataFiller:this.onChange,updateFormData:this.onUpdateFormData};return s("div",{className:e},void 0,s("div",{className:y["default"]["input-form-content"]},void 0,s("h2",{className:y["default"]["input-form-title"]},void 0,b),s("table",{className:y["default"]["input-form-table"]},void 0,s("tbody",{},void 0,s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.formTitle,":")),s("td",{},void 0,c["default"].createElement("input",{placeholder:this.props.intl.messages.formTitle,className:y["default"]["input-form-field"],onChange:this.setTitle,value:this.state.title,ref:"title"}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.formKey,":")),s("td",{},void 0,c["default"].createElement("input",{placeholder:this.props.intl.messages.formKey,className:y["default"]["input-form-field"],onChange:this.setKey,value:this.state.key,ref:"key"}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.formJSONSchema,":")),s("td",{},void 0,c["default"].createElement("textarea",{placeholder:this.props.intl.messages.formJSONSchema,className:y["default"]["input-form-field"],ref:"JSONSchema",value:this.state.JSONSchema,onChange:this.setJSONSchema}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.dbJSONSchema+" (read-only)",":")),s("td",{},void 0,c["default"].createElement("textarea",{readOnly:!0,placeholder:this.props.intl.messages.dbJSONSchema+" (read-only)",className:y["default"]["input-form-field"],ref:"JSONSchemaMaster",value:this.state.JSONSchemaMaster}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.formUISchema,":")),s("td",{},void 0,c["default"].createElement("textarea",{placeholder:this.props.intl.messages.formUISchema,className:y["default"]["input-form-field"],ref:"UISchema",value:this.state.UISchema,onChange:this.setUISchema}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,this.props.intl.messages.formInitData,":")),s("td",{},void 0,c["default"].createElement("textarea",{placeholder:this.props.intl.messages.formInitData,className:y["default"]["input-form-field"],ref:"InitData",value:this.state.initData,onChange:this.setInitData}))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,"Target collection:")),s("td",{},void 0,c["default"].createElement("select",{placeholder:this.props.intl.messages.formDestCollection,className:y["default"]["input-form-field"],ref:"DestCollection",value:this.state.destCollection,onChange:this.setDestCollection},this.state.collections.map(function(e){return s("option",{
value:e.name},e.name,e.name)})))),s("tr",{},void 0,s("td",{},void 0,s("div",{className:y["default"]["input-form-field-label"]},void 0,"Insert on submit:")),s("td",{},void 0,c["default"].createElement("input",{type:"checkbox",onChange:this.setInsertOnSubmit,checked:this.state.insertOnSubmit,ref:"InsertOnSubmit"}))))),s("a",{className:t?y["default"]["form-submit-button"]:y["default"]["form-submit-button-disabled"],href:"#",onClick:this.saveForm},void 0,_)),s("div",{},void 0,s("h2",{className:y["default"]["input-form-title"]},void 0,g),c["default"].createElement(d["default"],{className:y["default"]["input-form-field"],ref:"JSSForm",schema:this.state._JSONSchema,uiSchema:this.state._UISchema,formData:this.state._initData,onSubmit:this.onSubmit,onChange:this.onChange,formContext:o,onFormPropsChange:this.onFormPropsChange})))}}]),t}(u.Component);S.defaultProps={initialForm:{title:"",key:"",json_schema:void 0,ui_schema:void 0,init_data:void 0,dest_collection:void 0,insert_on_submit:!1}},t["default"]=(0,f.injectIntl)(S)},129:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=(n(u),o(130)),f=n(c),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this;return s("div",{className:"listView"},void 0,this.props.forms.map(function(t){return s(f["default"],{form:t,onDelete:function(){return e.props.handleDeleteForm(t.cuid)},onUpdate:e.props.handleUpdateForm},t.cuid)}))}}]),t}(u.Component);t["default"]=p},130:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),c=(n(u),o(9)),f=o(8),p=o(114),d=n(p),h={"single-form":"_4IVkjbuHRDz7oZrva7hLo","form-title":"_3VnmjLrSTAgu0tbdMZoacN","author-name":"_1cNPfGQNRCha6l5dInqnVS","form-desc":"_aUxib4kQGpIdxhqFQZaU","form-action":"_1hJnnZBUAO8LftNEbzN2wZ",divider:"_2eStSMGYswW2w7EmRibls0","form-detail":"_1flNws2Fw_nAFFJfQxE8zX"},m=n(h),v=s(f.FormattedMessage,{id:"deleteForm"}),y=s(f.FormattedMessage,{id:"editForm"}),b=function(e){function t(e){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.showEdit=function(){o.setState({isEditShown:!o.state.isEditShown})},o.state={isEditShown:!1},o}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:m["default"]["single-form"]},void 0,s("h3",{className:m["default"]["form-title"]},void 0,s(c.Link,{to:"/forms/"+this.props.form.slug+"-"+this.props.form.cuid},void 0,this.props.form.title)),s("p",{className:m["default"]["form-action"]},void 0,s("a",{href:"#",onClick:this.props.onDelete},void 0,v)),s("p",{className:m["default"]["form-action"]},void 0,s("a",{href:"#",onClick:this.showEdit},void 0,y)),s(d["default"],{saveForm:this.props.onUpdate,showEditForm:this.state.isEditShown,initialForm:this.props.form}),s("hr",{className:m["default"].divider}))}}]),t}(u.Component);t["default"]=b},97:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{showAddForm:(0,b.getShowAddForm)(e),forms:(0,b.getForms)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,o,n,r){var i=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&i)for(var s in i)void 0===o[s]&&(o[s]=i[s]);else o||(o=i||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];o.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:o,_owner:null}}}(),u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(1),f=n(c),p=o(7),d=o(129),h=n(d),m=o(114),v=n(m),y=o(43),b=o(46),_=function(e){function t(){var e,o,n,a;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleDeleteForm=function(e){confirm("Do you want to delete this form")&&n.props.dispatch((0,y.deleteFormRequest)(e))},n.handleUpdateForm=function(e){confirm("Do you want to update this form")&&n.props.dispatch((0,y.updateFormRequest)(e))},n.handleAddForm=function(e){n.props.dispatch((0,y.toggleAddForm)()),console.log("handleAddForm"),console.log(e),n.props.dispatch((0,y.addFormRequest)(e))},n.handleToggleAddForm=function(){n.props.dispatch((0,y.toggleAddForm)())},a=o,i(n,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,y.fetchForms)())}},{key:"render",value:function(){return l("div",{},void 0,l("a",{href:"#",onClick:this.handleToggleAddForm},void 0,"Add form"),l(v["default"],{saveForm:this.handleAddForm,showEditForm:this.props.showAddForm}),l(h["default"],{handleDeleteForm:this.handleDeleteForm,handleUpdateForm:this.handleUpdateForm,forms:this.props.forms}))}}]),t}(c.Component);_.need=[function(){return(0,y.fetchForms)()}],_.contextTypes={router:f["default"].PropTypes.object},t["default"]=(0,p.connect)(s)(_)}};