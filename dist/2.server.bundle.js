exports.ids=[2],exports.modules={116:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return{form:(0,S.getForm)(e,t.params.cuid),cache:(0,S.getCache)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),f=o(c),p=(n(11),n(10)),h=n(14),d=o(h),v=(n(9),n(124)),m=o(v),y=n(134),b=o(y),_=n(8),g=(o(_),{"single-form":"_4IVkjbuHRDz7oZrva7hLo","form-title":"_3VnmjLrSTAgu0tbdMZoacN","author-name":"_1cNPfGQNRCha6l5dInqnVS","form-desc":"_aUxib4kQGpIdxhqFQZaU","form-action":"_1hJnnZBUAO8LftNEbzN2wZ",divider:"_2eStSMGYswW2w7EmRibls0","form-detail":"_1flNws2Fw_nAFFJfQxE8zX"}),w=o(g),O=n(56),P=n(55),S=n(57),M=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmit=function(e){var t=e.formData;console.log("submitting..."),console.log(n.state.submitType);var o={form:n.props.form._id,data:t},r=function(){n.context.router.push("/"),n.sender.send("exited")};switch(n.state.submitType){case"submit_later":n.props.dispatch((0,P.addSubmRequest)(o)).then(function(){return r()});break;case"submit_now":n.props.dispatch((0,P.addSubmRequest)(o)).then(function(e){return n.props.dispatch((0,P.updateSubmRequest)(e.subm))}).then(function(e){return n.props.dispatch((0,P.acceptSubmRequest)(e.subm))}).then(function(){return r()})}},n.onChange=function(e){var t=e.formData;n.setState({formData:t})},n.onClick=function(e){n.setState({submitType:e.target.id,validateForm:"submit_now"==e.target.id})},n.state={formData:n.props.form.init_data,validateForm:!0},n.sender=new b["default"]({dataOutPort:"wf-task-exit"}),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={cache:this.props.cache};return s("div",{},void 0,s(d["default"],{title:this.props.form.title}),s("div",{className:w["default"]["single-form"]+" "+w["default"]["form-detail"]},void 0,s("h3",{className:w["default"]["form-title"]},void 0,this.props.form.title)),s(m["default"],{schema:this.props.form.json_schema,uiSchema:this.props.form.ui_schema,formData:this.state.formData,onSubmit:this.onSubmit,onChange:this.onChange,listenToInternalEvents:!0,formContext:e,noHtml5Validate:!this.state.validateForm,noValidate:!this.state.validateForm},void 0,s("button",{type:"submit",className:"btn btn-info",id:"submit_now",onClick:this.onClick},void 0,"Send to database"),s("button",{title:"Content will be added to submissions. Required fields check will be relaxed.",type:"submit",className:"btn btn-info",id:"submit_later",onClick:this.onClick},void 0,"Save to submissions and review later")))}}]),t}(c.Component);M.need=[function(e){return(0,O.fetchForm)(e.cuid)}],M.contextTypes={router:f["default"].PropTypes.object.isRequired},t["default"]=(0,p.connect)(u)(M)},120:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return i("div",{},void 0,i("div",{},void 0,u," ",e.item.cuid),i("div",{},void 0,i("pre",{},void 0,JSON.stringify(e.item,null,2))))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}();t.AttributesViewer=r;var a=n(1),u=(o(a),i("b",{},void 0,"CUID:"));t["default"]=r},122:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(133),p=o(f),h=u("br",{}),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.call(n),n.state={imageSrc:null},n}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{},void 0,u("button",{onClick:this.capture},void 0,"Capture photo"),c["default"].createElement(p["default"],{audio:!1,height:"100%",ref:this.setRef,screenshotFormat:"image/jpeg",width:"100%"}),"Captured image:",h,this.state.imageSrc?u("img",{src:this.state.imageSrc}):null)}}]),t}(l.Component),v=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;e.setState({imageSrc:n})},this.setRef=function(t){e.webcam=t},this.capture=function(){var t=e.webcam.getScreenshot();console.log(t.length),e.props.onChange(t)}};t["default"]=d},123:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(121),p=o(f),h=n(120),d=o(h),v=n(54),m=o(v),y=n(8),b=o(y),_=n(7),g=(o(_),{"Select-value-fit":"_3jlE8QAUmgqcw8PU-aaYM8"}),w=o(g),O=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},a=n,i(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(d["default"],{item:this.props.option}))}}]),t}(l.Component),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:w["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(d["default"],{item:this.props.value})))}}]),t}(l.Component),S=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M.call(n),n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getDevices,optionComponent:O,valueComponent:P,filterOption:function(e,t){return!0}}))}}]),t}(l.Component),M=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;(0,b["default"])("devices/"+n).then(function(t){var o=t.device;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getDevices=function(e){return e?(0,m["default"])("devices",e).then(function(e){return{options:e.devices}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=S},124:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(1),p=o(f),h=n(132),d=o(h),v=n(22),m=n(127),y=o(m),b=n(129),_=o(b),g=n(123),w=o(g),O=n(128),P=o(O),S=n(126),M=o(S),j=n(125),C=o(j),E=n(122),k=o(E),D=n(7),F=o(D),N=n(8),T=o(N),A={},R={researcher:y["default"],subject:_["default"],device:w["default"],software:P["default"],file:M["default"],output:C["default"],"cam-capture":k["default"]},V=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){n.props.schema&&(0,T["default"])("utils/staticize-json-schema","post",{schema:n.props.schema}).then(function(e){console.log(e.schema);var t={schema:e.schema,uiSchema:n.props.uiSchema,formData:n.props.formData};n._update(t)}),n._listenToInternalEvents(n.props.listenToInternalEvents)},n._listenToInternalEvents=function(e){e&&F["default"].subscribe("jss-internals",function(e,t){if("formData"in t.targets){var o=Object.assign({},n.state.formData),r=t.targets.formData.path;o[r]=t.targets.formData.payload,n.setState({formData:o})}})},n._update=function(e){var t=e.schema,o=e.uiSchema,r=e.formData,i=t,a=o,u=r;t&&o&&r||(i=void 0,a=void 0,u=void 0);var s=!0;try{var c=(0,v.renderToString)(l(d["default"],{fields:A,widgets:R,schema:i,uiSchema:a,formData:u}));if(/unsupported/i.test(c))throw new Error(c)}catch(f){s=!1}n.props.onFormPropsChange({valid:s}),s?n.setState({valid:!0,schema:i,uiSchema:a,formData:u}):n.setState({valid:!1,formData:u})},n.state={valid:!1,schema:void 0,uiSchema:void 0,formData:void 0},n}return u(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.schema!=this.props.schema||e.uiSchema!=this.props.uiSchema||e.formData!=this.props.formData)if(e.schema!=this.props.schema)(0,T["default"])("utils/staticize-json-schema","post",{schema:e.schema}).then(function(e){console.log("converted"),console.log(e.schema);var n={schema:e.schema,uiSchema:t.props.uiSchema,formData:t.props.formData};t._update(n)});else{var n={schema:this.state.schema,uiSchema:e.uiSchema,formData:e.formData};this._update(n)}this._listenToInternalEvents(e.listenToInternalEvents)}},{key:"render",value:function(){var e=null,t=this.props,n=(t.schema,t.uiSchema,t.formData,r(t,["schema","uiSchema","formData"])),e=l("pre",{},void 0,JSON.stringify(this.state.formData,null,2));if(this.state.valid)var e=p["default"].createElement(d["default"],s({fields:A,widgets:R,schema:this.state.schema,uiSchema:this.state.uiSchema,formData:this.state.formData,ref:"form"},n));return l("div",{},void 0,l("p",{},void 0,"Form definition: ",this.state.valid?"valid":"invalid"),e)}}]),t}(f.Component);V.defaultProps={schema:void 0,uiSchema:void 0,formData:void 0,listenToInternalEvents:!1,onFormPropsChange:function(){}},t["default"]=V},125:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(121),p=o(f),h=n(120),d=o(h),v=n(130),m=(o(v),n(54)),y=o(m),b=n(8),_=o(b),g={"Select-value-fit":"_3jlE8QAUmgqcw8PU-aaYM8"},w=o(g),O=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},a=n,i(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return this.props.option.activity?u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(d["default"],{item:this.props.option})):u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove})}}]),t}(l.Component),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:w["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(d["default"],{item:this.props.value})))}}]),t}(l.Component),S=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M.call(n),n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getOutputs,optionComponent:O,valueComponent:P,filterOption:function(e,t){return!0}}))}}]),t}(l.Component),M=function(){var e=this;this.componentWillMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;n&&(0,_["default"])("outputs/"+n).then(function(t){var o=t.output;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getOutputs=function(e){return!e||e.length<3?Promise.resolve({options:[]}):(0,y["default"])("outputs",e).then(function(e){return e.outputs||(e.outputs=[]),{options:e.outputs}})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=S},126:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.name,n=e.size,o=e.type;return new Promise(function(r,i){(0,m.uploadFile)(e).then(function(e){console.log("response:"),console.log(e),r({newName:e.newFileName,name:t,size:n,type:o})})})}function s(e){return Promise.all([].map.call(e,u))}function l(e){var t=e.filesInfo;return 0===t.length?null:f("ul",{className:"file-info"},void 0,t.map(function(e,t){var n=e.name,o=e.newName,r=e.size,i=e.type;return i||(i="unknown type"),f("li",{},t,f("div",{},void 0,f("strong",{},void 0,n)," (",i,", ",r," bytes)",_,"Renamed as: ",o))}))}function c(e){return e.filter(function(e){return"undefined"!=typeof e}).map(function(e){try{var t=JSON.parse(e),n=t.name,o=t.newName,r=t.size,i=t.type}catch(a){var n=o=r=i=void 0}var u={name:n,newName:o,size:r,type:i};return u}).filter(function(e){return"undefined"!=typeof e.name})}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(1),d=o(h),v=n(21),m=(o(v),n(8)),y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b.call(n),n}return a(t,e),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.multiple,o=t.id,r=t.readonly,i=t.disabled,a=t.autofocus,u=(t.value,this.state.filesInfo);return f("div",{},void 0,f("p",{},void 0,d["default"].createElement("input",{ref:function(t){return e.inputRef=t},id:o,type:"file",disabled:r||i,onChange:this.onChange,defaultValue:"",autoFocus:a,multiple:n,style:{color:"transparent"}})),f(l,{filesInfo:u}))}}]),t}(h.Component),b=function(){var e=this;this.componentWillMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value,o=Array.isArray(n)?n:[n];e.setState({values:o,filesInfo:c(o)})},this.onChange=function(t){var n=e.props,o=n.multiple,r=n.onChange;s(t.target.files).then(function(t){var n={values:t.map(function(e){return JSON.stringify(e)}),filesInfo:t};e.setState(n,function(){r(o?n.values:n.values[0])})})}},_=f("br",{});t["default"]=y},127:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(121),p=o(f),h=n(120),d=o(h),v=n(54),m=o(v),y=n(8),b=o(y),_=n(7),g=o(_),w={"Select-value-fit":"_3jlE8QAUmgqcw8PU-aaYM8"},O=o(w),P=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},a=n,i(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(d["default"],{item:this.props.option}))}}]),t}(l.Component),S=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:O["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(d["default"],{item:this.props.value})))}}]),t}(l.Component),M=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(n),n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getResearchers,optionComponent:P,valueComponent:S,filterOption:function(e,t){return!0},disabled:this.props.readonly}))}}]),t}(l.Component),j=function(){var e=this;this.componentDidMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;t.formContext.cache.researcher&&(n=t.formContext.cache.researcher.cuid),(0,b["default"])("researchers/"+n).then(function(t){var o=t.researcher;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getResearchers=function(e){return e?(0,m["default"])("researchers",e).then(function(e){return{options:e.researchers}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid),g["default"].publishSync("int-cache-researcher",t)}};t["default"]=M},128:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(121),p=o(f),h=n(120),d=o(h),v=n(54),m=o(v),y=n(8),b=o(y),_={"Select-value-fit":"_3jlE8QAUmgqcw8PU-aaYM8"},g=o(_),w=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},a=n,i(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(d["default"],{item:this.props.option}))}}]),t}(l.Component),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:g["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(d["default"],{item:this.props.value})))}}]),t}(l.Component),P=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return S.call(n),n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getSWTools,optionComponent:w,valueComponent:O,filterOption:function(e,t){return!0}}))}}]),t}(l.Component),S=function(){var e=this;this.componentWillMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;(0,b["default"])("sw-tools/"+n).then(function(t){var o=t.SWTool;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getSWTools=function(e){return e?(0,m["default"])("sw-tools",e).then(function(e){return{options:e.SWTools}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=P},129:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(121),p=o(f),h=n(120),d=o(h),v=n(54),m=o(v),y=n(8),b=o(y),_={"Select-value-fit":"_3jlE8QAUmgqcw8PU-aaYM8"},g=o(_),w=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),o.props.onSelect(o.props.option,e)},o.handleMouseEnter=function(e){o.props.onFocus(o.props.option,e)},o.handleMouseMove=function(e){o.props.isFocused||o.props.onFocus(o.props.option,e)},a=n,i(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},void 0,u(d["default"],{item:this.props.option
}))}}]),t}(l.Component),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u("div",{className:g["default"]["Select-value-fit"]},void 0,u("span",{className:"Select-value-label"},void 0,u(d["default"],{item:this.props.value})))}}]),t}(l.Component),P=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return S.call(n),n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{ref:"container"},u(p["default"].AsyncCreatable,{value:this.state.value,onChange:this.onChange,valueKey:"cuid",loadOptions:this.getSubjects,optionComponent:w,valueComponent:O,filterOption:function(e,t){return!0}}))}}]),t}(l.Component),S=function(){var e=this;this.componentWillMount=function(){e.setValueFromProps(e.props)},this.componentWillReceiveProps=function(t){e.setValueFromProps(t)},this.setValueFromProps=function(t){var n=t.value;(0,b["default"])("subjects/"+n).then(function(t){var o=t.subject;o||(o={cuid:n}),e.refs.container&&e.setState({value:o})})},this.getSubjects=function(e){return e?(0,m["default"])("subjects",e).then(function(e){return{options:e.subjects}}):Promise.resolve({options:[]})},this.onChange=function(t){e.props.onChange(t.cuid)}};t["default"]=P},130:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return i("div",{},void 0,i("div",{},void 0,u," ",e.cuid),s,e.attributes&&e.attributes.map(function(e){return i("div",{style:{paddingLeft:"10px"}},Math.random(),i("b",{},void 0,e.name,":")," ",e.value)}))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}();t.SubjectViewer=r;var a=n(1),u=(o(a),i("b",{},void 0,"CUID:")),s=i("div",{},void 0,i("b",{},void 0,"Attributes:"));t["default"]=r},134:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(7),p=o(f),h={},d="command",v=u("div",{}),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNewPackageOut=function(e,t){""!=e?(p["default"].publishSync(e,t),console.log("Out-package published")):console.log("Output port name is empty")},n}return a(t,e),s(t,[{key:"render",value:function(){return v}},{key:"componentDidMount",value:function(){this.props.data||this.handleNewPackageOut(this.props.dataOutPort,this.props.data)}},{key:"componentWillUpdate",value:function(e){e.dataOutPort==this.props.dataOutPort&&this.handleNewPackageOut(e.dataOutPort,e.data)}},{key:"send",value:function(e){this.handleNewPackageOut(this.props.dataOutPort,e)}}]),t}(c["default"].Component);m.defaultProps={data:h,dataOutPort:d},t["default"]=m}};