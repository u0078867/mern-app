!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={},r={1:0};return t.e=function(t){if(0!==r[t]){var n=require("./"+t+".server.bundle.js"),o=n.modules,i=n.ids;for(var u in o)e[u]=o[u];for(var s=0;s<i.length;s++)r[i[s]]=0}return Promise.resolve()},t.m=e,t.c=n,t.p="",t.oe=function(e){throw console.error(e),e},t.oe=function(e){process.nextTick(function(){throw e})},t(t.s=72)}([function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={mongoURL:process.env.MONGO_URL||"mongodb://localhost:27017/mern-starter",port:process.env.PORT||8e3,workDir:process.env.WORK_DIR||"./upload",prefillDb:parseInt(process.env.PREFILL_DB)||2,schemasDir:process.env.SCHEMAS_DIR||"./FIBEr_schemas",osmosDriver:process.env.OSMOS_DRIVER||"mongo",drvWAMPUrl:process.env.DRIVER_WAMP_URL||"ws://127.0.0.1:8002/ws",drvWAMPRealm:process.env.DRIVER_WAMP_REALM||"realm1",drvWAMPtargetDb:process.env.DRIVER_WAMP_TARGET_DB||"mongo",drvMongoURL:process.env.DRIVER_MONGO_URL||"mongodb://localhost:27017/mern-starter"};t["default"]=n},function(e,t){e.exports=require("cuid")},function(e,t){e.exports=require("mongoose")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),i=r(o),u=n(2),s=r(u),a=n(10),c=(r(a),n(22)),l=r(c),d=n(3),f=r(d),p=i["default"].Schema,m=i["default"].Model,h=i["default"].Document;h.prototype.toJSON=h.prototype.toRawJSON;var v={},_=JSON.parse(l["default"].readFileSync(s["default"].schemasDir+"/schemas.config.json"));_.forEach(function(e){var t=JSON.parse(l["default"].readFileSync(s["default"].schemasDir+"/"+e.json_schema_file));t.$schema="http://json-schema.org/draft-04/schema#";var n=e.collection_name,r=JSON.parse(JSON.stringify(t));r.properties.cuid={type:"string"},r.properties.slug={type:"string"},r.properties.date_added={type:"string"};var o=new p("schema-"+e.name,r);o.primaryKey="cuid";var i=new m("Model-"+n,o,n,"db");i.updateableProperties=Object.keys(r.properties),i.getJSONSchema=function(){return t},i.findNoValidate=function(e,t){return this.db.find(this,e).nodeify(t)}.bind(i),i.createAndInit=function(e){return this.create().then(function(e){return e.cuid=(0,f["default"])(),e.date_added=(new Date).toISOString(),e}).nodeify(e)}.bind(i),i.createMany=function(e,t){var n=this,r=e.map(function(e){return n.createAndInit().then(function(t){for(var n in e)t[n]=e[n];return t.save()})});return Promise.all(r)}.bind(i),v[n]=i}),t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments[2];return(0,s["default"])(l+"/"+e,{headers:{"content-type":"application/json"},method:t,body:JSON.stringify(n)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json,n=e.response;return n.ok?t:Promise.reject(t)})}function i(e){var t=new FormData;return t.append("file",e),(0,s["default"])(l+"/upload/file",{method:"POST",body:t}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json,n=e.response;return n.ok?t:Promise.reject(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.API_URL=void 0,t["default"]=o,t.uploadFile=i;var u=n(45),s=r(u),a=n(2),c=r(a),l=t.API_URL="undefined"==typeof window?process.env.BASE_URL||"http://localhost:"+(process.env.PORT||c["default"].port)+"/api":"/api"},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-intl")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("limax")},function(e,t){e.exports=require("native-or-bluebird")},function(e,t){e.exports=require("sanitize-html")},function(e,t){"use strict";function n(e){return{type:u,user:e}}function r(e){return{type:s,url:e}}function o(e){return{type:a,data:e}}function i(e){return{type:c,data:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setUser=n,t.setRedirectUrl=r,t.updateCache=o,t.setShowServices=i;var u=t.SET_USER="SET_USER",s=t.SET_REDIRECT_URL="SET_REDIRECT_URL",a=t.UPDATE_CACHE="UPDATE_CACHE",c=t.SET_SHOW_SERVICES="SET_SHOW_SERVICES"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShowServices=t.getCache=t.getRedirectUrl=t.getUser=void 0;var r=n(15),o={user:null,redirectUrl:null,cache:{},showServices:!0},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SET_USER:return Object.assign({},e,{user:t.user});case r.SET_REDIRECT_URL:return Object.assign({},e,{redirectUrl:t.url});case r.UPDATE_CACHE:return Object.assign({},e,{cache:t.data});case r.SET_SHOW_SERVICES:return Object.assign({},e,{showServices:t.data});default:return e}};t.getUser=function(e){return e.app.user},t.getRedirectUrl=function(e){return e.app.redirectUrl},t.getCache=function(e){return e.app.cache},t.getShowServices=function(e){return e.app.showServices};t["default"]=i},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce(function(n,r){var i=e[r],u=t?t+"."+r:r;return"string"==typeof i?n[u]=i:Object.assign(n,o(i,u)),n},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.localizationData=t.enabledLanguages=void 0;var i=n(8),u=n(84),s=r(u),a=n(85),c=r(a);n(86);var l=n(90),d=r(l),f=n(50),p=r(f);n(87);var m=n(91),h=r(m),v=n(51),_=r(v),y=t.enabledLanguages=["en"],g=t.localizationData={};global.Intl?(0,c["default"])(y)||(global.Intl.NumberFormat=s["default"].NumberFormat,global.Intl.DateTimeFormat=s["default"].DateTimeFormat):global.Intl=s["default"],(0,i.addLocaleData)(d["default"]),g.en=p["default"],g.en.messages=o(g.en.messages),(0,i.addLocaleData)(h["default"]),g.fr=_["default"],g.fr.messages=o(g.fr.messages)},function(e,t,n){"use strict";function r(e){return o({type:u},i.localizationData[e])}Object.defineProperty(t,"__esModule",{value:!0}),t.SWITCH_LANGUAGE=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.switchLanguage=r;var i=n(18),u=t.SWITCH_LANGUAGE="SWITCH_LANGUAGE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),u=n(3),s=r(u),a=i["default"].Schema;"Form"in i["default"].connection.models&&delete i["default"].connection.models.Form;var c=new a({title:{type:"String",required:!0},key:{type:"String",required:!0},json_schema:{type:"Mixed",required:!0},ui_schema:{type:"Mixed",required:!0},init_data:{type:"Mixed",required:!0},dest_collection:{type:"String",required:!0},insert_on_submit:{type:"Boolean",required:!0},slug:{type:"String",required:!0},cuid:{type:"String","default":s["default"],required:!0,index:!0},date_added:{type:"Date","default":Date.now,required:!0}},{minimize:!1});t["default"]=i["default"].model("Form",c)},function(e,t){function n(e){return e&&"function"==typeof e.then}e.exports=n},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("osmos-lite")},function(e,t){e.exports=require("osmos-lite/lib/util/error")},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return s["default"].createElement(a.IntlProvider,e.intl,e.children)}function i(e){return{intl:e.intl}}Object.defineProperty(t,"__esModule",{value:!0}),t.IntlWrapper=o;var u=n(1),s=r(u),a=n(8),c=n(7);t["default"]=(0,c.connect)(i)(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return i(s.Route,{path:"/",component:c["default"]},void 0,i(s.Route,{getComponent:function(e,t){n.e(5)["catch"](function(e){n.oe(e)}).then(function(e){t(null,n(94)["default"])}.bind(null,n))}},void 0,i(s.IndexRoute,{getComponent:function(t,r){n.e(0)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!1)),r(null,n(48)["default"])}.bind(null,n))}}),i(s.Route,{path:"/login",getComponent:function(t,r){n.e(0)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!1)),r(null,n(48)["default"])}.bind(null,n))}}),i(s.Route,{getComponent:function(e,t){n.e(8)["catch"](function(e){n.oe(e)}).then(function(e){t(null,n(93)["default"])}.bind(null,n))}},void 0,i(s.Route,{path:"/dashboard",getComponent:function(t,r){n.e(7)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!1)),r(null,n(95)["default"])}.bind(null,n))}})),i(s.Route,{path:"/forms",getComponent:function(t,r){n.e(2)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!0)),r(null,n(97)["default"])}.bind(null,n))}}),i(s.Route,{path:"/forms/:slug-:cuid",getComponent:function(t,r){n.e(3)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!1)),r(null,n(96)["default"])}.bind(null,n))}}),i(s.Route,{path:"/subms",getComponent:function(t,r){n.e(6)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!0)),r(null,n(99)["default"])}.bind(null,n))}}),i(s.Route,{path:"/subms/:slug-:cuid",getComponent:function(t,r){n.e(4)["catch"](function(e){n.oe(e)}).then(function(t){e.dispatch((0,l.setShowServices)(!1)),r(null,n(98)["default"])}.bind(null,n))}})))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+3];n.children=a}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t["default"]=o;var u=n(1),s=(r(u),n(9)),a=n(52),c=r(a),l=n(15)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[(0,i.applyMiddleware)(s["default"])];process.env.CLIENT,1;var n=(0,i.createStore)(c["default"],e,i.compose.apply(void 0,t));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.configureStore=o;var i=n(25),u=n(92),s=r(u),a=n(56),c=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(63),i=r(o);e.exports={setAPIs:i["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(64),i=r(o);e.exports={prefiller:i["default"]}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(65),u=r(i),s=new o.Router;s.route("/database/collections").get(u.getCollections),e.exports=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(66),u=r(i),s=new o.Router;s.route("/forms").get(u.getForms),s.route("/forms/:cuid").get(u.getForm),s.route("/forms").post(u.addForm),s.route("/forms/:cuid").put(u.updateForm),s.route("/forms/:cuid")["delete"](u.deleteForm),e.exports=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(67),u=r(i),s=new o.Router;s.route("/subms").get(u.getSubms),s.route("/subms/:cuid").get(u.getSubm),s.route("/subms").post(u.addSubm),s.route("/subms/:cuid").put(u.updateSubm),s.route("/subms/:cuid")["delete"](u.deleteSubm),e.exports=s},function(e,t,n){"use strict";var r=n(0),o=new r.Router;o.get("/msg",function(e,t){t.send("Test server server HMR")}),e.exports=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(68),u=r(i),s=new o.Router;s.route("/upload/file").post(u.uploadFile),s.route("/upload/data").post(u.uploadData),e.exports=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(69),u=r(i),s=new o.Router;s.route("/utils/staticize-json-schema").post(u.staticizeJSONSchema),e.exports=s},function(e,t,n){"use strict";function r(e,t,n){var r=t.reduce(function(e,t){return(t.need||[]).concat((t.WrappedComponent&&t.WrappedComponent.need!==t.need?t.WrappedComponent.need:[])||[]).concat(e)},[]);return(0,o.sequence)(r,function(t){return e.dispatch(t(n,e.getState()))})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchComponentData=r;var o=n(71)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(23),i=r(o),u=n(58),s=r(u),a=n(57),c=r(a);i["default"].Document.debug=!1;var l=n(89).MongoClient;e.exports=function(e,t){switch(e.osmosDriver){case"WAMP":i["default"].drivers.register("db",new s["default"]({url:e.drvWAMPUrl,realm:e.drvWAMPRealm,db_type:e.drvWAMPtargetDb})),console.log("Osmos WAMP driver created"),t();break;case"mongo":l.connect(e.drvMongoURL,{promiseLibrary:n(13)},function(e,n){if(e)throw e;i["default"].drivers.register("db",new c["default"](n)),console.log("Osmos Mongo driver created"),t()});break;default:throw new Error("Driver "+e.osmosDriver+" not implemented")}}},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("express-fileupload")},function(e,t){e.exports=require("pubsub-js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{type:_,form:e}}function i(e){return function(t){return(0,v["default"])("forms","post",{form:e}).then(function(e){return t(o(e.form))})}}function u(e){return{type:y,forms:e}}function s(){return function(e){return(0,v["default"])("forms").then(function(t){e(u(t.forms))})}}function a(e){return function(t){return(0,v["default"])("forms/"+e).then(function(e){return t(o(e.form))})}}function c(e){return{type:g,cuid:e}}function l(e){return function(t){return(0,v["default"])("forms/"+e,"delete").then(function(){return t(c(e))})}}function d(){return{type:b}}function f(e){return console.log("submiting"),function(t){return(0,v["default"])("form/upload/data","post",e)}}function p(e){return function(t){return(0,v["default"])("forms/"+e.cuid,"put",{form:e}).then(function(e){return t(m(e.form))})}}function m(e){return{type:S,form:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_FORM=t.SUBMIT_FORM=t.TOGGLE_ADD_FORM=t.DELETE_FORM=t.ADD_FORMS=t.ADD_FORM=void 0,t.addForm=o,t.addFormRequest=i,t.addForms=u,t.fetchForms=s,t.fetchForm=a,t.deleteForm=c,t.deleteFormRequest=l,t.toggleAddForm=d,t.submitForm=f,t.updateFormRequest=p,t.updateForm=m;var h=n(6),v=r(h),_=t.ADD_FORM="ADD_FORM",y=t.ADD_FORMS="ADD_FORMS",g=t.DELETE_FORM="DELETE_FORM",b=t.TOGGLE_ADD_FORM="TOGGLE_ADD_FORM",S=(t.SUBMIT_FORM="SUBMIT_FORM",t.UPDATE_FORM="UPDATE_FORM")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{type:v,subm:e}}function i(e){return function(t){return(0,h["default"])("subms","post",{subm:e}).then(function(e){return t(o(e.subm))})}}function u(e){return{type:_,subms:e}}function s(){return function(e){return(0,h["default"])("subms").then(function(t){e(u(t.subms))})}}function a(e){return function(t){return(0,h["default"])("subms/"+e).then(function(e){return t(o(e.subm))})}}function c(e){return{type:y,cuid:e}}function l(e){return function(t){return(0,h["default"])("subms/"+e,"delete").then(function(){return t(c(e))})}}function d(e){return function(t){return(0,h["default"])("upload/data","post",e).then(function(){return t(l(e.cuid))})}}function f(e){return function(t){return(0,h["default"])("subms/"+e.cuid,"put",{subm:e}).then(function(e){return t(p(e.subm))})}}function p(e){return{type:g,subm:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SUBM=t.ACCEPT_SUBM=t.DELETE_SUBM=t.ADD_SUBMS=t.ADD_SUBM=void 0,t.addSubm=o,t.addSubmRequest=i,t.addSubms=u,t.fetchSubms=s,t.fetchSubm=a,t.deleteSubm=c,t.deleteSubmRequest=l,t.acceptSubmRequest=d,t.updateSubmRequest=f,t.updateSubm=p;var m=n(6),h=r(m),v=t.ADD_SUBM="ADD_SUBM",_=t.ADD_SUBMS="ADD_SUBMS",y=t.DELETE_SUBM="DELETE_SUBM",g=(t.ACCEPT_SUBM="ACCEPT_SUBM",t.UPDATE_SUBM="UPDATE_SUBM")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCache=t.getShowAddForm=t.getForm=t.getForms=void 0;var o=n(43),i={data:[],showAddForm:!1,submitted:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.ADD_FORM:return Object.assign({},e,{data:[t.form].concat(r(e.data))});case o.ADD_FORMS:return Object.assign({},e,{data:t.forms});case o.DELETE_FORM:return Object.assign({},e,{data:e.data.filter(function(e){return e.cuid!==t.cuid})});case o.TOGGLE_ADD_FORM:return Object.assign({},e,{showAddForm:!e.showAddForm});case o.SUBMIT_FORM:return Object.assign({},e,{submitted:[t.data].concat(r(e.submitted))});case o.UPDATE_FORM:return Object.assign({},e,{data:e.data.map(function(e){return e.cuid===t.form.cuid?t.form:e})});default:return e}};t.getForms=function(e){return e.forms.data},t.getForm=function(e,t){return e.forms.data.filter(function(e){return e.cuid===t})[0]},t.getShowAddForm=function(e){return e.forms.showAddForm},t.getCache=function(e){return e.app.cache};t["default"]=u},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCache=t.getSubm=t.getSubms=void 0;var o=n(44),i={data:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.ADD_SUBM:return Object.assign({},e,{data:[t.subm].concat(r(e.data))});case o.ADD_SUBMS:return Object.assign({},e,{data:t.subms});case o.DELETE_SUBM:return Object.assign({},e,{data:e.data.filter(function(e){return e.cuid!==t.cuid})});case o.ACCEPT_SUBM:return Object.assign({},e,{});case o.UPDATE_SUBM:return Object.assign({},e,{data:e.data.map(function(e){return e.cuid===t.subm.cuid?t.subm:e})});default:return e}};t.getSubms=function(e){return e.subms.data},t.getSubm=function(e,t){return e.subms.data.filter(function(e){return e.cuid===t})[0]},t.getCache=function(e){return e.app.cache};t["default"]=u},,function(e,t){e.exports=require("autobahn")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={locale:"en",messages:{save:"Save",siteTitle:"MERN App",addPost:"Add Post",switchLanguage:"Switch Language",twitterMessage:"We are on Twitter",by:"By",deletePost:"Delete Post",createNewPost:"Create new post",authorName:"Author's Name",postTitle:"Post Title",postContent:"Post Content",submit:"Submit",comment:"user {name} {value, plural,\n    \t  =0 {does not have any comments}\n    \t  =1 {has # comment}\n    \t  other {has # comments}\n    \t}",HTMLComment:"user <b style='font-weight: bold'>{name} </b> {value, plural,\n    \t  =0 {does not have <i style='font-style: italic'>any</i> comments}\n    \t  =1 {has <i style='font-style: italic'>#</i> comment}\n    \t  other {has <i style='font-style: italic'>#</i> comments}\n    \t}",nestedDateComment:"user {name} {value, plural,\n    \t  =0 {does not have any comments}\n    \t  =1 {has # comment}\n    \t  other {has # comments}\n    \t} as of {date}",addForm:"Add Form",editForm:"Edit Form",deleteForm:"Delete Form",createNewForm:"Create new form",formTitle:"Form Title",formKey:"Form Key",formJSONSchema:"Form JSON Schema",dbJSONSchema:"Database JSON Schema",formUISchema:"Form UI Schema",formInitData:"Form initial data",formPreview:"Form preview",acceptSubm:"Accept Submission",deleteSubm:"Delete Submission"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={locale:"fr",messages:{siteTitle:"MERN blog de démarrage",addPost:"Ajouter Poster",switchLanguage:"Changer de langue",twitterMessage:"Nous sommes sur Twitter",by:"Par",deletePost:"Supprimer le message",createNewPost:"Créer un nouveau message",authorName:"Nom de l'auteur",postTitle:"Titre de l'article",postContent:"Contenu après",submit:"Soumettre",comment:"user {name} {value, plural,\n    \t  =0 {does not have any comments}\n    \t  =1 {has # comment}\n    \t  other {has # comments}\n    \t} (in real app this would be translated to French)",HTMLComment:"user <b style='font-weight: bold'>{name} </b> {value, plural,\n    \t  =0 {does not have <i style='font-style: italic'>any</i> comments}\n    \t  =1 {has <i style='font-style: italic'>#</i> comment}\n    \t  other {has <i style='font-style: italic'>#</i> comments}\n    \t} (in real app this would be translated to French)",nestedDateComment:"user {name} {value, plural,\n  \t\t  =0 {does not have any comments}\n  \t\t  =1 {has # comment}\n  \t\t  other {has # comments}\n  \t\t} as of {date} (in real app this would be translated to French)"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{intl:e.intl,isLoggedIn:null!=(0,O.getUser)(e),redirectUrl:(0,O.getRedirectUrl)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var a,c=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+3];n.children=a}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(7),m={container:"_15uqt7TaQcflNYjiD0-re1"},h=r(m),v=n(11),_=r(v),y=n(54),g=r(y),b=n(53),S=r(b),w=n(19),O=n(16),M=n(42),j=(r(M),c(a,{})),x=c(S["default"],{}),D=t.App=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isMounted:!1},n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){console.log("<App> module mounted"),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.dispatch,t.redirectUrl),r=(e.isLoggedIn&&!this.props.isLoggedIn,!e.isLoggedIn&&this.props.isLoggedIn);r&&this.context.router.push(n)}},{key:"render",value:function(){var e=this;return c("div",{},void 0,this.state.isMounted&&!window.devToolsExtension&&!1&&j,c("div",{},void 0,c(_["default"],{title:"DB data insertion app",titleTemplate:"%s",meta:[{charset:"utf-8"},{"http-equiv":"X-UA-Compatible",content:"IE=edge"},{name:"viewport",content:"width=device-width, initial-scale=1"}]}),c(g["default"],{switchLanguage:function(t){return e.props.dispatch((0,w.switchLanguage)(t))},intl:this.props.intl},void 0),c("div",{className:h["default"].container},void 0,this.props.children),x))}}]),t}(d.Component);D.contextTypes={router:f["default"].PropTypes.object.isRequired},t["default"]=(0,p.connect)(s)(D)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return i("div",{style:{background:"#FFF url("+l["default"]+") center"},className:a["default"].footer},void 0)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+3];n.children=a}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t.Footer=o;var u=n(1),s=(r(u),n(8),{footer:"_1oiRVDtQ6fOWkhBVWcRyE_"}),a=r(s),c="/bbaeb5f32b7042f0def39648a1d111b9.png",l=r(c);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e.intl.enabledLanguages.map(function(t){return i("li",{onClick:function(){return e.switchLanguage(t)},className:t===e.intl.locale?d["default"].selected:""},t,t)}),r=[];return i("div",{className:d["default"].header},void 0,i("div",{className:d["default"]["language-switcher"]},void 0,i("ul",{},void 0,f,n)),i("div",{className:d["default"].content},void 0,e.children),i("div",{className:d["default"]["panel-switcher"]},void 0,i("ul",{},void 0,r.map(function(e){return i("li",{},e.name,i(a.Link,{to:e.url},void 0,e.name))}))))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+3];n.children=a}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();t.Header=o;var u=n(1),s=r(u),a=n(9),c=n(8),l={header:"_3EGjKVGKCGTGQn_m_YASdF",content:"_391cv5n_RFU0K9SBOjXDEt","site-title":"_11V45Tl3_Hdy_ARI53CW9g","add-post-button":"XrNjmGRHH_vMEgGeC3S75","language-switcher":"X6vAu1vEuRDWiN2kDvA_z","panel-switcher":"_2I4ryUD_rnJMRXpUrwIASM",selected:"_3ecuVjN6tTUWkR7u3Co3s"},d=r(l),f=i("li",{},void 0,i(c.FormattedMessage,{id:"switchLanguage"}));o.contextTypes={router:s["default"].PropTypes.object},t["default"]=o},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(18),u=n(19),s=global.navigator&&global.navigator.language||"en",a=o({locale:s,enabledLanguages:i.enabledLanguages},i.localizationData[s]||{}),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case u.SWITCH_LANGUAGE:var n=(t.type,r(t,["type"]));return o({},e,n);default:return e}};t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),i=n(16),u=r(i),s=n(46),a=r(s),c=n(47),l=r(c),d=n(55),f=r(d);t["default"]=(0,o.combineReducers)({app:u["default"],forms:a["default"],subms:l["default"],intl:f["default"]})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(13),i=n(24),u=function(e){this.db=e,this.ensureTextSearch=function(e){return this.db.collection(e).ensureIndex({"$**":"text"})}};u.prototype={create:function(e,t){return o.resolve({}).nodeify(t)},get:function(e,t,n){var o=this,i=e.schema.primaryKey;return this.ensureTextSearch(e.bucket).then(function(){return o.db.collection(e.bucket).findOne(r({},i,t)).nodeify(n)})},post:function(e,t,n){var r=this;e.model.schema.primaryKey;return this.ensureTextSearch(e.model.bucket).then(function(){return r.db.collection(e.model.bucket).insertOne(t).nodeify(n)})},put:function(e,t,n,o){var u=this;if(!e.model.schema.primaryKey||!e.primaryKey)throw new i("You cannot put a document without a primary key");if(void 0===e.__originalData__[e.model.schema.primaryKey])return this.post(e,t,o);var s=e.model.schema.primaryKey,a=e[s];return this.ensureTextSearch(e.model.bucket).then(function(){return u.db.collection(e.model.bucket).findOneAndUpdate(r({},s,a),{$set:t,$unset:n},{returnOriginal:!1,upsert:!0}).nodeify(o)})},del:function(e,t,n){var o=this,i=e.schema.primaryKey;return this.ensureTextSearch(e.bucket).then(function(){return o.db.collection(e.bucket).deleteOne(r({},i,t)).nodeify(n)})},count:function(e,t,n){var r=this;return this.ensureTextSearch(e.bucket).then(function(){return r.db.collection(e.bucket).count(t).nodeify(n)})},findOne:function(e,t,n){var r=this;return this.ensureTextSearch(e.bucket).then(function(){return r.db.collection(e.bucket).findOne(t).nodeify(n)})},find:function(e,t,n){var r=this;return this.ensureTextSearch(e.bucket).then(function(){return Array.isArray(t)?r.db.collection(e.bucket).aggregate(t).toArray().nodeify(n):r.db.collection(e.bucket).find(t).toArray().nodeify(n)})}},e.exports=u},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(49),i=n(13),u=n(24);n(81).extend(o.when.Promise);var s=function(e){var t=this;this.url=e.url||"ws://127.0.0.1:8002/ws",this.realm=e.realm||"realm1",this.dbType=e.db_type||"mongo",this.dbPfx=this.dbType+".",this.connection=null,this.session=null,this._rpc=function(e,n){return t.session?t.session.call(t.dbPfx+e,n):i.reject({err:!0,msg:"WAMP disconnected"})},this._tearDownConnection=function(){null!=t.connection&&(t.connection.close(),t.connection=null,t.session=null)},this._setUpNewConnection=function(e,n){t._tearDownConnection(),""!=e&&""!=n&&(t.connection=new o.Connection({url:e,realm:n}),t.connection.onopen=function(e,n){console.log("WAMP socket connected"),t.session=e},t.connection.onclose=function(e,n){console.log("WAMP socket disconnected"),t.session=null},t.connection.open())},this._setUpNewConnection(this.url,this.realm)};s.prototype={create:function(e,t){return i.resolve({}).nodeify(t)},get:function(e,t,n){var o=e.schema.primaryKey;return this._rpc("find_one",[e.bucket,r({},o,t)]).nodeify(n)},post:function(e,t,n){e.model.schema.primaryKey;return this._rpc("insert_one",[e.model.bucket,t]).nodeify(n)},put:function(e,t,n,o){if(!e.model.schema.primaryKey||!e.primaryKey)throw new u("You cannot put a document without a primary key");if(void 0===e.__originalData__[e.model.schema.primaryKey])return this.post(e,t,o);var i=e.model.schema.primaryKey,s=e[i];return this._rpc("update_one",[e.model.bucket,r({},i,s),t]).nodeify(o)},del:function(e,t,n){var o=e.schema.primaryKey;return this._rpc("delete_one",[e.bucket,r({},o,t)]).nodeify(n)},count:function(e,t,n){return this._rpc("count",[e.bucket]).nodeify(n)},findOne:function(e,t,n){return this._rpc("find_one",[e.bucket,t]).nodeify(n)},find:function(e,t,n){return this._rpc("find",[e.bucket,t]).nodeify(n)}},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
"default":e}}function o(e,t){var n=e.params.collection;if(!(n in s["default"]))return t.status(500).send("Collection does not exist");var r=s["default"][n];r.find({},function(e,n){return e?t.status(500).send(e):void t.json({items:n})})}function i(e,t){var n=e.params.collection;if(!(n in s["default"]))return t.status(500).send("Collection does not exist");var r=s["default"][n];r.get(e.params.cuid,function(e,n){return e?t.status(500).send(e):void t.json({item:n})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getItems=o,t.getItem=i;var u=n(5),s=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e.query.q,r=e.params.collection;if(!(r in u["default"]))return t.status(500).send("Collection does not exist");var o=u["default"][r];o.find([{$match:{$or:[{$text:{$search:n}}]}},{$addFields:{score:{$meta:"textScore"}}},{$sort:{score:{$meta:"textScore"}}}],function(e,n){return e?t.status(500).send(e):void t.json({items:n})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getItems=o;var i=n(5),u=r(i)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(59),u=r(i),s=new o.Router;s.route("/:collection").get(u.getItems),s.route("/:collection/:cuid").get(u.getItem),e.exports=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(0),i=n(60),u=r(i),s=new o.Router;s.route("/:collection").get(u.getItems),e.exports=s},function(e,t,n){"use strict";var r="/api",o="/search-api";e.exports=function(e){e.use(r,function(e,t,r){n(61)(e,t,r)}),e.use(o,function(e,t,r){n(62)(e,t,r)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(0!=t)return Promise.resolve().then(function(){return h.count()}).then(function(e){if(e>0)return console.log("researchers collection was filled"),[];if(t<2)return[];console.log("filling researchers collection ...");var n=[],r={name:"Davide",surname:"Monari",kul_id:"u0078867",slug:"davide-monari"};return n.push(r),h.createMany(n)}).then(function(e){e.length?console.log("researchers filled"):console.log("researchers skipped")}).then(function(){return a["default"].count().exec()}).then(function(e){if(e>0)return console.log("forms collection was filled"),[];console.log("filling forms collection ...");var t=[],r={title:"researcher insertion",key:"insert-researcher",json_schema:n(75),ui_schema:n(76),init_data:{},dest_collection:"researchers",insert_on_submit:!0,slug:"insert-researcher"};return t.push(r),r={title:"sample insertion",key:"insert-sample",json_schema:n(77),ui_schema:n(78),init_data:{},dest_collection:"samples",insert_on_submit:!0,slug:"insert-sample"},t.push(r),r={title:"sample update",key:"update-sample",json_schema:n(79),ui_schema:n(80),init_data:{},dest_collection:"samples",insert_on_submit:!0,slug:"update-sample"},t.push(r),r={title:"run experiment",key:"run-experiment",json_schema:n(73),ui_schema:n(74),init_data:{},dest_collection:"experiments",insert_on_submit:!0,slug:"update-sample"},t.push(r),a["default"].create(t)}).then(function(e){e.length?console.log("forms filled"):console.log("forms skipped")})}var i=n(5),u=r(i),s=n(20),a=r(s),c=n(4),l=r(c),d=n(3),f=(r(d),n(83)),p=r(f),m=n(6);r(m);l["default"].Promise=global.Promise;var h=(new p["default"],u["default"].researchers);u["default"].samples;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){try{var n=[];for(var r in s["default"])n.push({name:r,JSONSchema:s["default"][r].getJSONSchema()});t.json({collections:n})}catch(o){return console.log(o),t.status(500).send(o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCollections=o;var i=n(4),u=(r(i),n(5)),s=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){l["default"].find().sort("-date_added").exec(function(e,n){return e?t.status(500).send(e):void t.json({forms:n})})}function i(e,t){if(!(e.body.form.title&&e.body.form.json_schema&&e.body.form.ui_schema&&e.body.form.init_data))return t.status(403).json(null);var n=new l["default"](e.body.form);n.title=(0,v["default"])(n.title),n.slug=(0,m["default"])(n.title.toLowerCase(),{lowercase:!0}),n.cuid=(0,f["default"])(),n.save(function(e,n){return e?t.status(500).send(e):void t.json({form:n})})}function u(e,t){l["default"].findOne({cuid:e.params.cuid}).exec(function(e,n){return e?t.status(500).send(e):void t.json({form:n})})}function s(e,t){l["default"].findOne({cuid:e.params.cuid}).exec(function(e,n){return e?t.status(500).send(e):void n.remove(function(){t.status(200).json(null)})})}function a(e,t){l["default"].findOneAndUpdate({cuid:e.params.cuid},{$set:e.body.form},{"new":!0}).exec(function(e,n){return e?t.status(500).send(e):void t.json({form:n})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getForms=o,t.addForm=i,t.getForm=u,t.deleteForm=s,t.updateForm=a;var c=n(20),l=r(c),d=n(3),f=r(d),p=n(12),m=r(p),h=n(14),v=r(h),_=n(2);r(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){l["default"].find().sort("date_added").populate("form").exec(function(e,n){return e?t.status(500).send(e):void t.json({subms:n})})}function i(e,t){if(!e.body.subm.form||!e.body.subm.data)return t.status(403).end();var n=new l["default"](e.body.subm);console.log(n.data),n.slug="submission",n.cuid=(0,f["default"])(),n.save(function(e,n){return e?t.status(500).send(e):void t.json({subm:n})})}function u(e,t){l["default"].findOne({cuid:e.params.cuid}).populate("form").exec(function(e,n){return e?t.status(500).send(e):void t.json({subm:n})})}function s(e,t){l["default"].findOne({cuid:e.params.cuid}).exec(function(e,n){return e?t.status(500).send(e):void n.remove(function(e){t.status(200).json(null)})})}function a(e,t){l["default"].findOneAndUpdate({cuid:e.params.cuid},{$set:e.body.subm},{"new":!0}).populate("form").exec(function(e,n){return e?t.status(500).send(e):void t.json({subm:n})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getSubms=o,t.addSubm=i,t.getSubm=u,t.deleteSubm=s,t.updateSubm=a;var c=n(70),l=r(c),d=n(3),f=r(d),p=n(12),m=(r(p),n(14)),h=(r(m),n(2));r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e.files)return t.status(400).send("No files were uploaded.");var n=e.files.file,r=(0,c["default"])();n.mv(s["default"].join(m["default"].workDir,r),function(e){return e?t.status(500).send(e):void t.json({newFileName:r})})}function i(e,t){var n=e.body;Promise.resolve().then(function(){return new Promise(function(e,r){if(n.form.insert_on_submit){var o=n.form.dest_collection;if(!(o in y["default"]))return t.status(500).send("Collection does not exist");var i=y["default"][o];Promise.resolve().then(function(){return void 0==n.data.cuid?(console.log("creating new document"),i.createAndInit()):(console.log("updating document"),i.get(n.data.cuid))}).then(function(e){e.slug=(0,d["default"])(""+o,{lowercase:!0});for(var t in n.data)e[t]=n.data[t];return e.save()}).then(function(t){e({saved:t})})}else e({})})}).then(function(e){return new Promise(function(t,r){e.saved&&(n.saved=e.saved);var o=JSON.stringify(n,null,2),i=(0,c["default"])();v["default"].writeFile(s["default"].join(m["default"].workDir,i+".json"),o,function(n){return n?r(n):(console.log("File has been created"),e.fileName=i,void t(e))})})}).then(function(e){t.json(e)})["catch"](function(e){console.log(e),t.status(500).send(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFile=o,t.uploadData=i;var u=n(10),s=r(u),a=n(3),c=r(a),l=n(12),d=r(l),f=n(14),p=(r(f),n(2)),m=r(p),h=n(22),v=r(h),_=n(5),y=r(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){c(e.body.schema).then(function(e){t.json({schema:e})})["catch"](function(e){t.status(500).send(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.staticizeJSONSchema=o;var i=n(88),u=r(i),s=n(6),a=r(s),c=function(e){var t=JSON.parse(JSON.stringify(e)),n=u["default"].nodes(t,"$..__replacer__");if(0==n.length)return Promise.resolve(t);var r=n.map(function(e){e.path.pop();var n=u["default"].stringify(e.path),r=u["default"].value(t,n),o=function(e,n){return new Promise(function(r,o){Promise.resolve().then(function(){var e=n.query.split(";");switch(e[0]){case"api":var t=e[1];return(0,a["default"])(t);default:throw"query type not recognized"}}).then(function(r){var o=n.select.split(";");switch(o[0]){case"jp":var i=o[1],s=u["default"].query(r,i);return void u["default"].apply(t,e,function(e){return s});default:throw"select type not recognized"}}).then(function(){return r(e)})["catch"](function(e){return o(e)})})};return o(n,r)});return Promise.all(r).then(function(){return t})["catch"](function(e){throw e})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),u=n(3),s=r(u),a=i["default"].Schema;"Subm"in i["default"].connection.models&&delete i["default"].connection.models.Subm;var c=new a({data:{type:"Mixed",required:!0},form:{type:a.ObjectId,required:!0,ref:"Form"},slug:{type:"String",required:!0},cuid:{type:"String","default":s["default"],required:!0,index:!0},date_added:{type:"Date","default":Date.now,required:!0}});t["default"]=i["default"].model("Subm",c)},function(e,t){"use strict";function n(e,t){var n=[],r=function o(){var r=e.shift();return r?t(r).then(function(e){n.push(e)}).then(o):Promise.resolve(n)};return r()}Object.defineProperty(t,"__esModule",{value:!0}),t.sequence=n},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+3];n.children=a}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=n(0),u=r(i),s=n(40),a=r(s),c=n(4),l=r(c),d=n(39),f=r(d),p=n(10),m=r(p),h=n(26),v=r(h),_=n(41),y=r(_),g=n(28),b=n(7),S=n(1),w=r(S),O=n(17),M=n(9),j=n(11),x=r(j),D=n(27),P=r(D),R=n(37),A=n(2),E=r(A),T=new u["default"];console.log(E["default"]);var F="/api";l["default"].Promise=global.Promise,l["default"].connect(E["default"].mongoURL,function(e){if(e)throw console.error("Please make sure Mongodb is installed and running!"),e;console.log("Connected to db");var t=E["default"].prefillDb,r=function(e,t){n(30).prefiller(e,t).then(function(){return console.log("DB filled with data when necessary")})["catch"](function(e){return console.log(e)})},o=function(){T.use(F,function(e,t,r){n(31)(e,t,r)}),T.use(F,function(e,t,r){n(35)(e,t,r)}),n(29).setAPIs(T),r(!1,t)},i=n(38);console.log("Instantiation chosen Osmos driver ..."),i(E["default"],o)}),T.use((0,a["default"])()),T.use(f["default"].json({limit:"20mb"})),T.use(f["default"].urlencoded({limit:"20mb",extended:!1})),T.use(u["default"]["static"](m["default"].resolve(e,"../dist"))),T.use((0,y["default"])()),T.use(F,function(e,t,r){n(32)(e,t,r)}),T.use(F,function(e,t,r){n(33)(e,t,r)}),T.use(F,function(e,t,r){n(36)(e,t,r)}),T.use("/test-hmr-api",function(e,t,r){n(34)(e,t,r)});var k=function(e,t){var n=x["default"].rewind(),r=process.env.webpackAssets&&JSON.parse(process.env.webpackAssets),o=process.env.webpackChunkAssets&&JSON.parse(process.env.webpackChunkAssets);return"\n    <!doctype html>\n    <html>\n      <head>\n        "+n.base.toString()+"\n        "+n.title.toString()+"\n        "+n.meta.toString()+"\n        "+n.link.toString()+"\n        "+n.script.toString()+"\n\n        "+("<link rel='stylesheet' href='"+r["/app.css"]+"' />")+'\n\n      </head>\n      <body>\n        <div id="root">'+e+"</div>\n        <script>\n          window.__INITIAL_STATE__ = "+JSON.stringify(t).replace(/</g,"\\u003c")+";\n          "+("//<![CDATA[\n          window.webpackManifest = "+JSON.stringify(o)+";\n          //]]>")+"\n        </script>\n        <script src='"+r["/vendor.js"]+"'></script>\n        <script src='"+r["/app.js"]+"'></script>\n      </body>\n    </html>\n  "},q=function(e){var t="";return k("Server Error"+t,{})};T.use(function(e,t,n){(0,M.match)({routes:(0,P["default"])((0,g.configureStore)()),location:e.url},function(e,r,i){if(e)return t.status(500).end(q(e));if(r)return t.redirect(302,r.pathname+r.search);if(!i)return n();var u=(0,g.configureStore)();return(0,R.fetchComponentData)(u,i.components,i.params).then(function(){var e=(0,O.renderToString)(o(b.Provider,{store:u},void 0,o(v["default"],{},void 0,w["default"].createElement(M.RouterContext,i)))),n=u.getState();t.set("Content-Type","text/html").status(200).end(k(e,n))})["catch"](function(e){return n(e)})})});T.listen(E["default"].port,function(e){e||console.log("SERVER is running on port: "+E["default"].port+"!")}),t["default"]=T}).call(t,"server")},function(e,t){e.exports={type:"object",title:"Experiment:",required:["researcher_id","sample_id","test_type","scatch"],properties:{researcher_id:{type:"string",title:"Researcher ID:","enum":{select:"jp;$.items[*].kul_id",query:"api;researchers/",__replacer__:!0}},sample_id:{type:"string",title:"Sample ID:","enum":{select:"jp;$.items[*].id",query:"api;samples/",__replacer__:!0}},test_type:{type:"string",title:"Type of test:"},temperature:{type:"string",title:"Temperature (if relevant):"},scatch:{type:"string",title:"Sketch:"},remarks:{type:"string",title:"Remarks:"}}}},function(e,t){e.exports={researcher_id:{"ui:widget":"researcher","ui:readonly":!0,"ui:options":{field:"kul_id"}},sample_id:{"ui:widget":"text"},scatch:{"ui:widget":"cam-capture"},remarks:{"ui:widget":"textarea"},"ui:field":"layout","ui:layout":[{group:{md:6,layout:[{researcher_id:{md:12}},{sample_id:{md:12}},{test_type:{md:12}},{temperature:{md:12}}]},scatch:{md:6}},{remarks:{md:12}}]}},function(e,t){e.exports={type:"object",required:["name","surname","kul_id"],properties:{name:{type:"string",title:"Name"},surname:{type:"string",title:"Surname"},kul_id:{type:"string",title:"KULeuven ID"}}}},function(e,t){e.exports={}},function(e,t){e.exports={type:"object",title:"Sample:",required:["researcher_id","id","name","origin","tissue","orientation","scatch"],properties:{researcher_id:{type:"string",title:"Researcher ID:","enum":{select:"jp;$.items[*].kul_id",query:"api;researchers/",__replacer__:!0}},id:{type:"string",title:"ID (scan or type):",not:{"enum":{select:"jp;$.items[*].id",query:"api;samples/",__replacer__:!0}}},parent_id:{type:"string",title:"Parent ID:","enum":{select:"jp;$.items[*].id",query:"api;samples/",__replacer__:!0}},name:{type:"string",title:"Name of specimen:"},origin:{type:"string",title:"Origin"},tissue:{type:"string",title:"Type of tissue:"},orientation:{type:"string",title:"Orientation of sample:"},artery_opening_angle:{type:"string",title:"If artery, opening angle:"},scatch:{type:"string",title:"Sketch:"},remarks:{type:"string",title:"Remarks:"}}}},function(e,t){e.exports={researcher_id:{"ui:widget":"researcher","ui:readonly":!0,"ui:options":{field:"kul_id"}},parent_id:{"ui:widget":"text"},scatch:{"ui:widget":"cam-capture"},remarks:{"ui:widget":"textarea"},"ui:field":"layout","ui:layout":[{group:{md:6,layout:[{researcher_id:{md:12}},{id:{md:12}},{parent_id:{md:12}},{name:{md:12}},{origin:{md:12}},{tissue:{md:12}},{orientation:{md:12}},{artery_opening_angle:{md:12}}]},scatch:{md:6}},{remarks:{md:12}}]}},function(e,t){e.exports={type:"object",title:"Sample:",required:["researcher_id","id","name","origin","tissue","orientation","scatch"],properties:{researcher_id:{type:"string",title:"Researcher ID:","enum":{select:"jp;$.items[*].kul_id",query:"api;researchers/",__replacer__:!0}},id:{type:"string",title:"ID (scan or type):","enum":{select:"jp;$.items[*].id",query:"api;samples/",__replacer__:!0}},parent_id:{type:"string",title:"Parent ID:","enum":{select:"jp;$.items[*].id",query:"api;samples/",__replacer__:!0}},name:{type:"string",title:"Name of specimen:"},origin:{type:"string",title:"Origin"},tissue:{type:"string",title:"Type of tissue:"},orientation:{type:"string",title:"Orientation of sample:"},artery_opening_angle:{type:"string",title:"If artery, opening angle:"},scatch:{type:"string",title:"Sketch:"},remarks:{type:"string",title:"Remarks:"}}}},function(e,t){e.exports={researcher_id:{"ui:widget":"researcher","ui:readonly":!0,"ui:options":{field:"kul_id"}},id:{"ui:widget":"form-filler","ui:options":{collection:"samples"}},parent_id:{"ui:widget":"text"},scatch:{"ui:widget":"cam-capture"},remarks:{"ui:widget":"textarea"},"ui:field":"layout","ui:layout":[{group:{md:6,layout:[{researcher_id:{md:12}},{id:{md:12}},{parent_id:{md:12}},{name:{md:12}},{origin:{md:12}},{tissue:{md:12}},{orientation:{md:12}},{artery_opening_angle:{md:12}}]},scatch:{md:6}},{remarks:{md:12}}]}},function(e,t,n){function r(e,t){return"function"!=typeof t?e:e.then(function(e){s(function(){t(null,e)})},function(e){s(function(){t(e)})})}function o(e){return r(this,e)}function i(e){if(e&&c(e)){e.nodeify=o;var t=e.then;return e.then=function(){return i(t.apply(this,arguments))},e}"function"==typeof e?e.prototype.nodeify=o:a.prototype.nodeify=o}function u(e){return this instanceof u?(a.call(this,e),void i(this)):new u(e)}var s,a=n(82),c=n(21);s="function"==typeof setImmediate?setImmediate:"object"==typeof process&&process&&process.nextTick?process.nextTick:function(e){setTimeout(e,0)},e.exports=r,r.extend=i,r.Promise=u,u.prototype=Object.create(a.prototype),u.prototype.constructor=u},function(e,t,n){function r(e){function t(e){d.length?(f=!0,d.shift()(e||!1)):f=!1}function n(e,n){return new r(function(r){function o(o){function u(){var e;try{e=s(a)}catch(n){return r.reject(n),t()}r.fulfill(e),t(!0)}var s=l?e:n;"function"==typeof s?o?u():i(u):l?(r.fulfill(a),t(o)):(r.reject(a),t(o))}d.push(o),c&&!f&&t()})}if(!(this instanceof r))return"function"==typeof e?new r(e):o();var a,c=!1,l=!1,d=[],f=!1;this.then=n,function(){function n(e){c||(u(e)?e.then(n,r):(c=l=!0,a=e,t()))}function r(e){c||(c=!0,l=!1,a=e,t())}for(var o={fulfill:n,reject:r},i=0;i<s.length;i++)s[i](this,o);if("function"==typeof e)try{e(o)}catch(d){o.reject(d)}}()}function o(){var e,t=new r(function(t){e=t});return{resolver:e,promise:t}}var i,u=n(21);i="function"==typeof setImediate?setImediate:"object"==typeof process&&process&&process.nextTick?process.nextTick:function(e){setTimeout(e,0)};var s=[];e.exports=r,r.use=function(e){s.push(e)}},function(e,t){e.exports=require("chance")},function(e,t){e.exports=require("intl")},function(e,t){e.exports=require("intl-locales-supported")},function(e,t){e.exports=require("intl/locale-data/jsonp/en")},function(e,t){e.exports=require("intl/locale-data/jsonp/fr")},function(e,t){e.exports=require("jsonpath")},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("react-intl/locale-data/en")},function(e,t){e.exports=require("react-intl/locale-data/fr")},function(e,t){e.exports=require("redux-thunk")},,,,,,,,,function(e,t){e.exports=require("react-bootstrap")},,,,,,,,,,,function(e,t){e.exports=require("react-select")},,,function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("react-jsonschema-form")},function(e,t){e.exports=require("react-jsonschema-form/lib/components/fields/ObjectField")},function(e,t){e.exports=require("react-jsonschema-form/lib/utils")},function(e,t){e.exports=require("react-webcam")},,,,,,,,,,,,,,function(e,t){e.exports=require("react-addons-update")}]);